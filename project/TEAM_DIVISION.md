# SVG处理系统 - 团队分工方案

**项目名称**：SVG Processing System  
**课程**：ENGR1010J  
**团队人数**：6人  
**分工日期**：2024年11月24日

---

## 👥 团队成员与分工

### 成员1：项目负责人 + 主程序开发
**主要职责**：
- 项目整体协调和进度管理
- main.c 开发（命令行参数处理）
- 项目集成和最终测试
- 演示准备和展示

**负责模块**：
- `src/main.c` - 主程序入口
- 命令行参数解析
- 各模块调用集成
- 帮助信息显示

**工作量**：约100行代码 + 项目管理

**技能要求**：
- C语言基础
- 命令行参数处理
- 项目协调能力

---

### 成员2：SVG解析器开发
**主要职责**：
- SVG文件解析功能
- XML格式处理
- 数据结构设计
- 内存管理

**负责模块**：
- `src/svg_parser.c` - SVG解析器
- `include/svg_parser.h` - 解析器接口
- `include/svg_types.h` - 数据结构定义

**工作量**：约200行代码

**技能要求**：
- 字符串处理
- 文件I/O
- 数据结构（链表）
- 指针操作

**关键函数**：
```c
int svg_load_from_file(const char *filename, SvgDocument **doc_out);
SvgDocument* create_svg_document(float width, float height);
void svg_free_document(SvgDocument *doc);
```

---

### 成员3：图像导出开发（BMP + JPG）
**主要职责**：
- BMP文件格式实现
- JPG导出功能（使用stb_image_write）
- 图形绘制算法
- 像素渲染和颜色转换

**负责模块**：
- `src/bmp_writer.c` - BMP导出器
- `src/jpg_writer.c` - JPG导出器
- `include/bmp_writer.h` - BMP接口
- `include/jpg_writer.h` - JPG接口

**工作量**：约300行代码

**技能要求**：
- 二进制文件操作
- 图形算法（Bresenham、中点圆）
- 图像库使用（stb_image_write）
- 位操作和结构体对齐

**关键算法**：
- Bresenham线条算法
- 中点圆算法
- 扫描线填充
- JPG质量控制

**关键函数**：
```c
int export_to_bmp(const char *filename, const SvgDocument *doc);
int export_to_jpg(const char *filename, const SvgDocument *doc, int quality);
```

---

### 成员4：GUI编辑器开发（核心）
**主要职责**：
- SDL2窗口和渲染
- 图形显示和绘制
- 工具栏界面设计
- 基础交互框架

**负责模块**：
- `src/svg_gui.c` - GUI编辑器（前半部分）
- `include/svg_gui.h` - GUI接口
- SDL2集成和初始化

**工作量**：约200行代码

**技能要求**：
- SDL2库使用
- 图形渲染
- 窗口管理
- 基础UI设计

**关键函数**：
```c
int gui_init(GUIState* state);
void gui_render(GUIState* state);
void gui_draw_shape(SDL_Renderer* renderer, SvgShape* shape, ...);
void gui_draw_toolbar(GUIState* state);
```

---

### 成员5：GUI交互开发
**主要职责**：
- 鼠标事件处理
- 键盘快捷键
- 图形选择和拖拽
- 碰撞检测

**负责模块**：
- `src/svg_gui.c` - GUI编辑器（后半部分）
- 事件处理系统
- 交互逻辑实现

**工作量**：约200行代码

**技能要求**：
- 事件驱动编程
- 鼠标/键盘处理
- 碰撞检测算法
- 状态管理

**关键函数**：
```c
void gui_handle_events(GUIState* state, int* running);
void gui_add_shape_at_mouse(GUIState* state, SvgShapeType type);
void run_gui(SvgDocument* doc);
```

---

### 成员6：辅助功能 + 文档编写
**主要职责**：
- 控制台渲染器
- SVG文件保存功能
- 项目文档编写
- 测试脚本编写

**负责模块**：
- `src/svg_render.c` - 控制台渲染
- `src/svg_writer.c` - SVG保存
- `include/svg_render.h` - 渲染器接口
- `include/svg_writer.h` - 保存器接口
- 所有项目文档

**工作量**：约110行代码 + 文档编写

**技能要求**：
- 格式化输出
- 文件写入
- 文档编写能力
- 测试用例设计

**关键函数**：
```c
void svg_print_summary(const SvgDocument *doc);
void svg_print_shapes(const SvgDocument *doc);
int svg_save_to_file(const char *filename, const SvgDocument *doc);
```

**文档任务**：
- README.md
- USER_GUIDE.md
- PROJECT_SUMMARY.md
- 其他文档

---

## 📊 工作量分配

| 成员 | 代码行数 | 复杂度 | 额外任务 | 总工作量 |
|------|---------|--------|---------|---------|
| 成员1 | ~100 | 中 | 项目管理、集成测试 | ⭐⭐⭐⭐ |
| 成员2 | ~200 | 高 | 数据结构设计 | ⭐⭐⭐⭐⭐ |
| 成员3 | ~300 | 高 | BMP+JPG导出 | ⭐⭐⭐⭐⭐ |
| 成员4 | ~200 | 高 | SDL2集成 | ⭐⭐⭐⭐⭐ |
| 成员5 | ~200 | 高 | 交互逻辑 | ⭐⭐⭐⭐⭐ |
| 成员6 | ~110 | 中 | 文档编写 | ⭐⭐⭐⭐ |

**总计**：~1110行代码

---

## 🔄 协作流程

### 第一阶段：基础框架（Week 1-2）
1. **成员2**：完成数据结构定义和基础解析
2. **成员1**：搭建主程序框架
3. **成员6**：编写初步文档

### 第二阶段：核心功能（Week 2-3）
1. **成员2**：完善SVG解析器
2. **成员3**：实现BMP导出
3. **成员4**：开发GUI基础框架
4. **成员5**：设计交互逻辑
5. **成员6**：实现控制台渲染

### 第三阶段：GUI开发（Week 3）
1. **成员4 + 成员5**：协作完成GUI编辑器
2. **成员1**：集成测试
3. **成员6**：添加保存功能

### 第四阶段：测试优化（Week 4）
1. **全员**：功能测试和bug修复
2. **成员1**：整体集成和优化
3. **成员6**：完善文档

---

## 📝 具体任务清单

### 成员1的任务
- [ ] 创建main.c框架
- [ ] 实现命令行参数解析
- [ ] 集成各个模块
- [ ] 编写帮助信息
- [ ] 整体测试和调试
- [ ] 准备项目演示
- [ ] 协调团队进度

### 成员2的任务
- [ ] 设计SvgDocument数据结构
- [ ] 设计SvgShape链表结构
- [ ] 实现SVG文件读取
- [ ] 实现属性解析函数
- [ ] 实现内存管理函数
- [ ] 测试解析功能
- [ ] 编写测试SVG文件

### 成员3的任务
- [x] 研究BMP文件格式
- [x] 实现BMP文件头
- [x] 实现Bresenham线条算法
- [x] 实现中点圆算法
- [x] 实现矩形填充
- [x] 实现颜色转换
- [x] 测试BMP导出功能
- [x] 集成stb_image_write库
- [x] 实现JPG导出功能
- [x] 添加质量参数控制
- [x] 测试JPG导出功能

### 成员4的任务
- [ ] 配置SDL2开发环境
- [ ] 实现窗口初始化
- [ ] 实现渲染器设置
- [ ] 实现图形绘制函数
- [ ] 实现工具栏界面
- [ ] 实现主渲染循环
- [ ] 测试显示功能

### 成员5的任务
- [ ] 设计事件处理架构
- [ ] 实现鼠标点击检测
- [ ] 实现拖拽功能
- [ ] 实现碰撞检测
- [ ] 实现键盘快捷键
- [ ] 实现图形添加/删除
- [ ] 测试交互功能

### 成员6的任务
- [ ] 实现控制台输出函数
- [ ] 实现SVG保存功能
- [ ] 编写README.md
- [ ] 编写USER_GUIDE.md
- [ ] 编写PROJECT_SUMMARY.md
- [ ] 编写测试脚本
- [ ] 创建演示文件

---

## 🤝 协作要点

### 接口约定
1. **成员2**提供的接口供其他人使用：
   ```c
   SvgDocument* svg_load_from_file(...);
   void svg_free_document(...);
   ```

2. **成员3**提供的接口：
   ```c
   int export_to_bmp(...);
   ```

3. **成员4+5**提供的接口：
   ```c
   void run_gui(SvgDocument* doc);
   ```

### 代码规范
- 使用C99标准
- 函数命名：小写+下划线（snake_case）
- 变量命名：有意义的英文名
- 每个函数前添加注释
- 及时提交代码

### 沟通机制
- 每日站会：同步进度
- 遇到问题及时沟通
- 接口变更提前通知
- 代码审查互相帮助

---

## 📅 时间规划

### Week 1：基础框架
- Day 1-2：环境搭建、数据结构设计
- Day 3-4：基础解析和主程序框架
- Day 5：第一次集成测试

### Week 2：核心功能
- Day 1-2：完善解析器
- Day 3-4：实现BMP导出
- Day 5：功能测试

### Week 3：GUI开发
- Day 1-3：GUI框架和渲染
- Day 4-5：交互功能实现
- Day 6-7：GUI集成测试

### Week 4：完善优化
- Day 1-2：bug修复
- Day 3-4：文档完善
- Day 5：最终测试
- Day 6-7：演示准备

---

## 🎯 评分贡献度

建议的贡献度分配（供参考）：

| 成员 | 贡献度 | 说明 |
|------|--------|------|
| 成员1 | 15% | 项目管理 + 主程序 |
| 成员2 | 20% | 核心数据结构 + 解析器 |
| 成员3 | 18% | BMP导出 + 算法实现 |
| 成员4 | 18% | GUI框架 + 渲染 |
| 成员5 | 18% | GUI交互 + 事件处理 |
| 成员6 | 11% | 辅助功能 + 文档 |

**总计**：100%

---

## 📞 联系方式

建议建立团队沟通群，包含：
- 微信群/QQ群：日常沟通
- GitHub/Gitee：代码管理
- 腾讯文档：文档协作
- 定期会议：进度同步

---

## ✅ 检查清单

### 每个成员完成后需要：
- [ ] 代码编译通过
- [ ] 功能测试通过
- [ ] 代码有注释
- [ ] 提交到代码库
- [ ] 更新文档
- [ ] 通知其他成员

### 项目完成前：
- [ ] 所有模块集成成功
- [ ] 所有功能测试通过
- [ ] 文档完整
- [ ] 演示准备就绪
- [ ] 代码提交完成

---

**制定日期**：2024年11月24日  
**适用项目**：SVG Processing System  
**团队规模**：6人  
**预计工期**：4周

## 💡 温馨提示

1. **及时沟通**：遇到问题不要憋着，及时向团队求助
2. **代码规范**：保持一致的编码风格
3. **版本控制**：经常提交代码，避免丢失
4. **互相帮助**：完成自己任务后帮助其他成员
5. **文档同步**：代码和文档要同步更新
6. **测试优先**：写完代码立即测试
7. **备份重要**：重要文件要备份

祝项目顺利完成！🎉
